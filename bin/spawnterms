#!/bin/bash

set -eu

if xdpyinfo |grep "^vendor string" |grep -q Cygwin; then
    for xoff in +0 +492; do
        for yoff in +-8 -+26; do
            if [ "${yoff:0:1}" = "+" ]; then
                LINES=28
            else
                LINES=27
            fi
            xterm -geometry "80x${LINES}$xoff$yoff" &
        done
    done
else
    HEIGHT="$(xwininfo -root -stats |awk '/Height:/ {print $2}')"
    WIDTH="$(xwininfo -root -stats |awk '/Width:/ {print $2}')"

    if (( HEIGHT < 900 )); then
        LINES=25
        YOFF2=+353
    else
        LINES=35
        YOFF2=+479
    fi
    X_OFFSETS=(150 638)
    if (( WIDTH > 80 * 6 * 3 )); then
        LINES=36
        YOFF2=+490
        X_OFFSETS=(0 488 976)
    fi
    for X in "${X_OFFSETS[@]}"; do
        for Y in "" "${YOFF2}"; do
            xterm -geometry "80x${LINES}+${X}${Y}" &
        done
    done
fi
